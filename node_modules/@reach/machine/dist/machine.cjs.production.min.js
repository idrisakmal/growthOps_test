"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@xstate/fsm"),r=require("@reach/utils");function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return Object.entries(e).reduce((function(e,t){return e[t[0]]=t[1].current,e}),{})}Object.defineProperty(exports,"InterpreterStatus",{enumerable:!0,get:function(){return t.InterpreterStatus}}),Object.defineProperty(exports,"assign",{enumerable:!0,get:function(){return t.assign}}),Object.defineProperty(exports,"createMachine",{enumerable:!0,get:function(){return t.createMachine}}),Object.defineProperty(exports,"interpret",{enumerable:!0,get:function(){return t.interpret}}),exports.unwrapRefs=u,exports.useCreateMachine=function(e,n){return r.useConstant((function(){return t.createMachine(e,n)}))},exports.useMachine=function(c,s,i){var o=e.useRef(c),a=r.useConstant((function(){return t.interpret(o.current).start()})),f=e.useRef(null),p=e.useState((function(){return function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t}(a)})),b=p[0],l=p[1],h=e.useCallback((function(e){var t=r.isString(e)?{type:e}:e,c=u(s);a.send(n({},t,{lastEventType:f.current,refs:c})),f.current=t.type}),[i]);return e.useEffect((function(){return a.subscribe((function(e){e.changed&&l(e)})),function(){a.stop()}}),[a]),e.useEffect((function(){}),[i,b]),[e.useMemo((function(){return n({},b,{matches:function(e){return e===b.value}})}),[b.changed,b.context,b.value]),h,a]};
//# sourceMappingURL=machine.cjs.production.min.js.map
